// ë©”ì„œë“œì˜ ë‚´ë¶€ í•¨ìˆ˜ì—ì„œì˜ this ìš°íšŒ
// hisì— ëŒ€í•´ì„œ ì´í•´ëŠ” í•˜ê² ì§€ë§Œâ€¦ ì‚¬ìš©ì ì…ì¥ì—ì„œ. ì¦‰, ê°œë°œì ì…ì¥ì—ì„œ ì´ê²Œ ì‰½ê²Œ ë°›ì•„ë“¤ì—¬ì§€ì‹œë‚˜ìš”? ê·¸ë ‡ì§€ ì•Šì£ ? 
// ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìš°íšŒí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ìš°ë¦¬ëŠ” ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


// 1. ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë°©ë²•
//    - ë‚´ë¶€ ìŠ¤ì½”í”„ì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” thisë¥¼ ë³„ë„ì˜ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ë°©ë²•
var obj1 = {
  outer: function () {
    console.log(this); // (1) outer

    // AS-IS
    var innerFunc1 = function () {
      console.log(this); // (2) ì „ì—­ê°ì²´
    }
    innerFunc1(); // ì—¬ê¸°ì„œ í˜¸ì¶œí•˜ë©´ ë¬´ì¡°ê±´ ìƒì–´ë²„ë¦¼

    // TO-BE
    var self = this; // ìŠ¤ì½”í”„ ì•ˆì— ìˆëŠ” this => outerë¥¼ ê°€ë¦¬í‚´
    var innerFunc2 = function () {
      console.log(self); // (3) outer
    };
    innerFunc2();
  }
};

// ë©”ì„œë“œ í˜¸ì¶œ ë¶€ë¶„
obj1.outer();

// 2. í™”ì‚´í‘œ í•¨ìˆ˜(=thisë¥¼ ë°”ì¸ë”©í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜)
//    - ES6ì—ì„œ ì²˜ìŒ ë„ì…ëœ í™”ì‚´í‘œ í•¨ìˆ˜ëŠ”, ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•  ë•Œ this ë°”ì¸ë”© ê³¼ì • ìì²´ê°€ ì—†ìŠµë‹ˆë‹¤
//    (ë”°ë¼ì„œ, thisëŠ” ì´ì „ì˜ ê°’-ìƒìœ„ê°’-ì´ ìœ ì§€ë¼ìš” / ES6ì—ì„œëŠ” í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisê°€ ì „ì—­ê°ì²´ë¥¼ ë°”ë¼ë³´ëŠ” ë¬¸ì œ ë•Œë¬¸ì— í™”ì‚´í‘œí•¨ìˆ˜ë¥¼ ë„ì…í–ˆì–´ìš”!)

// ì¼ë°˜ í•¨ìˆ˜ì™€ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ê°€ì¥ í° ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€ìš”? ë¼ê³  ë¬¼ìœ¼ë©´ ì—¬ëŸ¬ë¶„ì€ ë¬´ì—‡ì´ë¼ê³  ë‹µí•´ì•¼ í• ê¹Œìš”?
// > this binding ì—¬ë¶€ê°€ ê°€ì¥ ì ì ˆí•œ ë‹µì…ë‹ˆë‹¤ ğŸ˜‰

var obj = {
  outer: function () {
    console.log('?', this); // outer
    var innerFunc = () => {
      console.log(this); // ì¼ë°˜ í•¨ìˆ˜ì˜€ë‹¤ë©´ ì „ì—­ ê°ì²´ì˜€ì§€ë§Œ, outerë¥¼ ë°”ë¼ë³´ê³  ìˆìŒ 
    };
    innerFunc();
  }
}
obj.outer();
// [bind ë©”ì„œë“œ]
// -> thisë¥¼ bindí•˜ëŠ” ë©”ì„œë“œ
// call, apply ëŠ” ë°”ë¡œ í˜¸ì¶œë˜ëŠ” ë°˜ë©´ì— ì¦‰ì‹œ í˜¸ì¶œí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
// ë„˜ê²¨ë°›ì€ this ë° ì¸ìˆ˜ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¼ê³  ë³´ë©´ ëœë‹¤.

// ëª©ì 
// - í•¨ìˆ˜ì˜ thisë¥¼ ë¯¸ë¦¬ ì ìš©í•¨
// - ë¶€ë¶„ ì ìš© í•¨ìˆ˜ ! !

// ì˜ˆì‹œ
var func = function (a, b, c, d) {
  console.log(this, a, b, c, d);
};
func(1, 2, 3, 4); // this => window ê°ì²´

// í•¨ìˆ˜ì— this ë¯¸ë¦¬ ì ìš©
var bindFunc1 = func.bind({ x: 1 }); // ë°”ë¡œ í˜¸ì¶œë˜ì§€ëŠ” ì•Šì•„ìš”! ê·¸ ì™¸ì—ëŠ” ê°™ì•„ìš”.
bindFunc1(5, 6, 7, 8); // { x: 1 } 5 6 7 8

// ë¶€ë¶„ ì ìš© í•¨ìˆ˜ êµ¬í˜„
var bindFunc2 = func.bind({ x: 1 }, 4, 5); // 4ì™€ 5ë¥¼ ë¯¸ë¦¬ ì ìš©
bindFunc2(6, 7); // { x: 1 } 4 5 6 7
bindFunc2(8, 9); // { x: 1 } 4 5 8 9


// [name í”„ë¡œí¼í‹°]
// bind - 'bound' ë¼ëŠ” ì ‘ë‘ì–´
// 1. ind ë©”ì„œë“œë¥¼ ì ìš©í•´ì„œ ìƒˆë¡œ ë§Œë“  í•¨ìˆ˜ëŠ” name í”„ë¡œí¼í‹°ì— â€˜boundâ€™ ë¼ëŠ” ì ‘ë‘ì–´ê°€ ë¶™ìŠµë‹ˆë‹¤(ì¶”ì í•˜ê¸°ê°€ ì‰½ì£ !)
var func = function (a, b, c, d) {
  console.log(this, a, b, c, d);
};
var bindFunc = func.bind({ x: 1 }, 4, 5);

// funcì™€ bindFuncì˜ name í”„ë¡œí¼í‹°ì˜ ì°¨ì´ë¥¼ ì‚´íŽ´ë³´ì„¸ìš”!
console.log(func.name); // func
console.log(bindFunc.name); // bound func

// 2. ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ì˜ thisë¥¼ ë‚´ë¶€í•¨ìˆ˜ë‚˜ ì½œë°± í•¨ìˆ˜ì— ì „ë‹¬í•˜ê¸°
//    2-1. ë‚´ë¶€í•¨ìˆ˜
//      1. ë©”ì„œë“œì˜ ë‚´ë¶€í•¨ìˆ˜ì—ì„œ ë©”ì„œë“œì˜ thisë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ì—ìš”
//      (ì´ì „ì—ëŠ” ë‚´ë¶€í•¨ìˆ˜ì— thisë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ selfë¥¼ ì¼ì—ˆë˜ ê²ƒ ê¸°ì–µ ë‚˜ì‹œë‚˜ìš”?)
//      2. self ë“±ì˜ ë³€ìˆ˜ë¥¼ í™œìš©í•œ ìš°íšŒë²•ë³´ë‹¤ call, apply, bindë¥¼ ì‚¬ìš©í•˜ë©´ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ì´ìš©í•˜ëŠ”ê²Œ ë” ë‚«ê² ì–´ìš” ðŸ™‚
var obj = {
  outer: function () {
    console.log(this); // obj
    var innerFunc = function () {
      console.log(this);
    };

    // callì„ ì´ìš©í•´ì„œ ì¦‰ì‹œì‹¤í–‰í•˜ë©´ì„œ thisë¥¼ ë„˜ê²¨ì£¼ì—ˆìŠµë‹ˆë‹¤
    innerFunc.call(this); // obj
  }
};
obj.outer();

// ì •~ ë§ ë§Žì´ ì“°ì´ëŠ” ë°©ë²•
var obj = {
  outer: function () {
    console.log(this);
    var innerFunc = function () {
      console.log(this);
    }.bind(this); // innerFuncì— thisë¥¼ ê²°í•©í•œ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ í• ë‹¹
    innerFunc();
  }
};
obj.outer();

// [í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ì˜ˆì™¸ì‚¬í•­]
// 1. í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„± ì‹œ, thisë¥¼ ë°”ì¸ë”©í•˜ëŠ” ê³¼ì •ì´ ì œì™¸ëœë‹¤ê³  í–ˆì—ˆì£ !
// 2. ì´ í•¨ìˆ˜ ë‚´ë¶€ì—ëŠ” thisì˜ í• ë‹¹ê³¼ì •(ë°”ì¸ë”© ê³¼ì •)ì´ ì•„ì— ì—†ìœ¼ë©°, ì ‘ê·¼ì½”ìž í•˜ë©´ ìŠ¤ì½”í”„ì²´ì¸ìƒ ê°€ìž¥ ê°€ê¹Œìš´ thisì— ì ‘ê·¼í•˜ê²Œ ë¨
// 3. thisìš°íšŒ, call, apply, bindë³´ë‹¤ íŽ¸ë¦¬í•œ ë°©ë²•
var obj = {
  outer: function () {
    console.log(this);
    var innerFunc = () => {
      console.log(this);
    };
    innerFunc();
  }
};
obj.outer();
